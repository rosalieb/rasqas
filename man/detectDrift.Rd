% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/detectDrift.R
\name{detectDrift}
\alias{detectDrift}
\title{Detect sensor drift}
\usage{
detectDrift(
  folderpath,
  reference_file = NULL,
  test_start,
  test_end,
  tz = 0,
  threshold_drift = 0.4,
  patterns2searchfor = NULL,
  patterns2exclude = c("00_drift_results", "@",
    "pres_air|pres_eau|pres.txt|pres_cote|pression|Pres.csv", "aff.txt", "status.txt",
    "lire.txt", "Sorties.txt", "aff_quinson", "allos CR.txt", "00_ALIRE.txt"),
  writeOutput = TRUE,
  out_dir = NULL
)
}
\arguments{
\item{folderpath}{Path to the folder containing the data files (.txt or .csv).}

\item{reference_file}{Name of the reference sensor file to use for the drift test
(including file extension, e.g. "ref_sensor.csv"). If NULL, the reference
is calculated as the mean across all sensors.}

\item{test_start}{Start of the drift test period, format "YYYY-MM-DD HH:MM".
The date-time must be provided in the same time zone as the data in the files.
Note that using UTC is recommended.}

\item{test_end}{End of the drift test period, format "YYYY-MM-DD HH:MM".
The date-time must be provided in the same time zone as the data in the files.
Note that using UTC is recommended.}

\item{threshold_drift}{Numeric threshold above which a sensor is flagged as drifting.}

\item{patterns2searchfor}{Character vector of patterns to include when listing files
in \code{folderpath} (e.g. station codes).}

\item{patterns2exclude}{Character vector of patterns to exclude when listing files
in \code{folderpath}.}

\item{writeOutput}{Logical. If TRUE, summary tables and diagnostic plots are written
to an output folder.}

\item{out_dir}{Optional path to the output directory where result files will be written
when \code{writeOutput = TRUE}. If NULL (default), an output directory is
automatically created inside \code{folderpath}.}
}
\value{
A list containing:
\itemize{
\item \code{data_list}: all sensor data read from files
\item \code{drift}: a summary table with drift metrics per file
\item \code{start_test}: start of the test period
\item \code{end_test}: end of the test period
}
}
\description{
Reads high-frequency sensor data from multiple files and detects sensor drift
either relative to a reference sensor or by comparing sensors against each other.
}
\examples{
drift <- detectDrift(
  folderpath = "monitoring/20250802/sensor_drift_test",
  reference_file = "MAL05_test.txt",
  test_start = "2025-08-22 14:53",
  test_end = "2025-08-22 14:58",
  threshold_drift = 0.4
)
}
\author{
Rosalie Bruel
}
